<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pulmonary Circulation</title>

<!-- Model Viewer -->
<script type="module"
src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f9ff;
  text-align:center;
}

h1{
  margin-top:20px;
  color:#0b3d91;
}

.container{
  width:90%;
  max-width:900px;
  margin:auto;
}

model-viewer{
  width:100%;
  height:500px;
  background:white;
  border-radius:15px;
  box-shadow:0 4px 10px rgba(0,0,0,0.2);
}

button{
  padding:12px 20px;
  margin:10px;
  font-size:16px;
  border:none;
  border-radius:8px;
  background:#0b3d91;
  color:white;
  cursor:pointer;
}

button:hover{
  background:#082c6c;
}

.feedback{
  margin-top:20px;
}
</style>
</head>

<body>

<h1>Pulmonary Circulation</h1>

<div class="container">

<!-- 3D MODEL -->
<model-viewer
id="model"
src="pulmonary.glb"

ar
ar-modes="scene-viewer quick-look webxr"
ar-scale="fixed"

camera-controls
touch-action="pan-y"
interaction-prompt="none"

auto-rotate
rotation-per-second="20deg"

shadow-intensity="1"
exposure="1"

camera-orbit="0deg 75deg 2.5m"
min-camera-orbit="auto auto 1.5m"
max-camera-orbit="auto auto 4m"

field-of-view="30deg"

scale="0.6 0.6 0.6"

disable-zoom="false"

style="--poster-color: transparent;"
>
</model-viewer>

<br>

<!-- LISTEN BUTTON -->
<button onclick="playAudio()">üîä Listen</button>

<!-- FEEDBACK SYSTEM -->
<div class="feedback">
  <p>Did you understand pulmonary circulation?</p>
  <button onclick="addPoints(10)">üëç Yes (+10)</button>
  <button onclick="addPoints(5)">üôÇ A little (+5)</button>
</div>

<p id="points">Points: 0</p>

</div>

<script>
/* TEXT TO SPEECH */
function playAudio(){
  const text = `
  Pulmonary circulation is the movement of blood
  from the heart to the lungs and back to the heart.
  The right ventricle pumps deoxygenated blood
  to the lungs where it receives oxygen.
  The oxygen-rich blood then returns
  to the left atrium of the heart.
  `;

  const speech = new SpeechSynthesisUtterance(text);
  speech.rate = 0.9;
  speech.pitch = 1;
  speech.lang = "en-US";

  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(speech);
}

/* POINT SYSTEM */
let points = 0;

function addPoints(value){
  points += value;
  document.getElementById("points").innerText =
    "Points: " + points;
}
</script>

</body>
</html>
