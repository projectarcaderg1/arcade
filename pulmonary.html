<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Pulmonary Circulation</title>

<!-- Model Viewer (REQUIRED for 3D + AR) -->
<script type="module"
src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
</script>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
    color:white;
    text-align:center;
}

h1{
    margin-top:20px;
}

.container{
    width:100%;
    height:70vh;
}

/* MODEL STYLE */
model-viewer{
    width:100%;
    height:100%;
    background-color: transparent;
}

/* BUTTONS */
.controls{
    margin-top:15px;
}

button{
    padding:10px 18px;
    margin:5px;
    border:none;
    border-radius:8px;
    font-size:16px;
    cursor:pointer;
    background:#00c6ff;
    color:white;
}

button:hover{
    background:#0072ff;
}

/* POINTS BOX */
.points{
    margin-top:15px;
    font-size:18px;
}
</style>
</head>

<body>

<h1>Pulmonary Circulation</h1>

<div class="container">

<!-- 3D MODEL -->
<model-viewer
    id="pulmonaryModel"
    src="models/pulmonary.glb"
    alt="Pulmonary Circulation Model"

    camera-controls
    auto-rotate
    ar
    ar-modes="webxr scene-viewer quick-look"
    shadow-intensity="1"
    exposure="1"

    interaction-prompt="auto"
    touch-action="pan-y">

</model-viewer>

</div>

<!-- BUTTONS -->
<div class="controls">
    <button onclick="playAudio()">ðŸ”Š Listen</button>
    <button onclick="addPoints()">âœ… I Learned This</button>
    <a href="index.html">
        <button>â¬… Back</button>
    </a>
</div>

<!-- POINT SYSTEM -->
<div class="points">
    Points: <span id="points">0</span>
</div>

<script>

/* ======================
   LISTEN BUTTON
====================== */

function playAudio(){
    const speech = new SpeechSynthesisUtterance(
        "Pulmonary circulation is the movement of blood from the heart to the lungs and back to the heart. The right ventricle pumps deoxygenated blood to the lungs where it receives oxygen and releases carbon dioxide."
    );

    speech.rate = 0.9;
    speech.pitch = 1;
    speech.lang = "en-US";

    speechSynthesis.speak(speech);
}

/* ======================
   POINT SYSTEM
====================== */

let points = localStorage.getItem("points") || 0;
document.getElementById("points").textContent = points;

function addPoints(){
    points++;
    localStorage.setItem("points", points);
    document.getElementById("points").textContent = points;
}

</script>

</body>
</html>
