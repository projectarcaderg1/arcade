<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>A.R.C.A.D.E - Respiratory</title>

<link rel="stylesheet" href="css/style.css">

<style>
.lesson-box{
  margin:20px;
  padding:15px;
  background:rgba(255,255,255,0.08);
  border-radius:12px;
}

button{
  padding:12px;
  margin:10px;
  border:none;
  border-radius:10px;
  background:#6a5cff;
  color:white;
  font-size:16px;
  cursor:pointer;
}

textarea{
  width:90%;
  height:80px;
  border-radius:10px;
}
</style>
</head>

<body>

<h1 class="title">A.R.C.A.D.E</h1>

<h2>ü´Å Respiratory System</h2>

<p id="points">‚≠ê Points: 0 / 10</p>

<!-- AR AREA -->
<div class="lesson-box">
<h3>üì∑ Scan Flashcard</h3>
<p>AR camera will appear here (next step).</p>
<div style="height:250px;background:black;border-radius:10px;"></div>
</div>

<!-- TALKING LESSON -->
<div class="lesson-box">
<h3>üîä Explanation</h3>

<button onclick="speakLesson()">Listen</button>

<p>
The respiratory system allows the body to breathe by exchanging oxygen and carbon dioxide through the lungs.
</p>
</div>

<!-- REFLECTION -->
<div class="lesson-box">
<h3>üí≠ Reflection</h3>

<textarea id="reflection" placeholder="What did you learn?"></textarea><br>

<button onclick="submitReflection()">Submit</button>

</div>

<script>

let points = 0;

function updatePoints(){
 document.getElementById("points").innerText =
 "‚≠ê Points: " + points + " / 10";

 if(points >=10){
   celebrate();
 }
}

function speakLesson(){
 const text = "The respiratory system allows the body to breathe by exchanging oxygen and carbon dioxide through the lungs.";
 const speech = new SpeechSynthesisUtterance(text);
 speech.rate = 1;
 speech.pitch = 1;
 speechSynthesis.speak(speech);

 points +=3;
 updatePoints();
 emojiPop();
}

function submitReflection(){
 const answer = document.getElementById("reflection").value;

 if(answer.length < 3){
   alert("Please write your reflection first.");
   return;
 }

 points +=5;
 updatePoints();
 emojiPop();
}

function emojiPop(){
 const emoji=document.createElement("div");
 emoji.className="emoji";
 emoji.innerText=["‚ú®","‚≠ê","üéâ","üß†","üöÄ"][Math.floor(Math.random()*5)];
 emoji.style.left=Math.random()*90+"vw";
 emoji.style.top=Math.random()*90+"vh";
 document.body.appendChild(emoji);
 setTimeout(()=>emoji.remove(),1000);
}

function celebrate(){
 for(let i=0;i<20;i++){
   setTimeout(emojiPop,i*100);
 }
}

</script>

</body>
</html>
